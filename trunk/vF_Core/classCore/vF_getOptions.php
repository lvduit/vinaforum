<?php vF_Check();# ----------------------# Class: Get System Option# Author: Yplit# Date: 13/6/2012#-----------------------class vF_getOptions{	private static $_instance;	public $allowCache = true;	private $cache_file = '';	private $cacheContent = '';	public $options;	public $vF;	public function __construct()	{		//$this->vF = $GLOBALS['vF'];		$this->allowCache = true;		$this->options = null;		if( $this->allowCache === true )		{			if( ! $this->cacheContent )			{				$this->cacheContent = vF_cache::getInstance()->loadCache( 'options' );			}			if( ! is_null( $this->cacheContent ) )			{				$this->options = $this->cacheContent;			}		}		if( !$this->options )		{			$db = vF_getVf::get( 'Db' );			$result = $db->query( 'SELECT * FROM `'. $db->tableName( 'options' ) .'`' );			if( $db->nums() == 0 )			{				vF_error::systemError( vF_constant::vF_SYSTEM_COULD_NOT_GET_OPTIONS );				return false;			}			$this->options = new stdClass;			while( $option = $db->fetchrow( $result ) )			{				if( !$option['option_value'] )				{					$option['option_value'] = $option['option_default'];				}				$this->options->$option['option_var'] = $option['option_value'];			}			if( $this->allowCache )			{				vF_cache::getInstance()->newCache( 'options', $this->options );			}		}	}	public static function getInstance()	{		if( !self::$_instance )		{			self::$_instance = new self();		}		return self::$_instance;	}	public function get()	{		if( $this->allow_cache and !empty( $this->cache_content ) )		{			$tmp = unserialize( $this->cache_content );			if( is_array( $tmp ) )			{				return vF_Array2Object::getInstance()->convert( $tmp );			}		}	}	public function setCacheFile( $file )	{		$this->cache_file = $file;	}	public function disableCache()	{		$this->allow_cache = false;	}	public function activeCache()	{		$this->allow_cache = true;	}	public function getOptions()	{		return $this->options;	}	public function updateOptions()	{			}}